/* Define CSS Variables for Colors */
:root {
  /* Light Mode Colors */
  --bs-body-bg: #68a8e87a;
  /* <-- OVERRIDE Bootstrap's variable here. Set your desired light bg color */
  --text-color-light: #212529;
  /* Standard dark text (Bootstrap's dark) */
  --section-bg-light: #ffffff6f;
  /* White for sections */
  --section-border-light: #dee2e6;
  /* Light grey border (Bootstrap's default) */
  --link-color-light: #0d6efd;
  /* Standard blue link */
  --shadow-color-light: rgba(0, 0, 0, 0.1);

  /* Dark Mode Colors (will be applied via body.body-dark-mode) */
  --bg-color-dark: #212529;
  /* Dark grey (Bootstrap's dark) */
  --text-color-dark: #f8f9fa;
  /* Light grey text (Bootstrap's light) */
  --section-bg-dark: #343a40;
  /* Slightly lighter dark grey (Bootstrap's secondary dark) */
  --section-border-dark: #495057;
  /* Grey border for dark mode */
  --link-color-dark: #6ea8fe;
  /* Lighter blue link for dark mode */
  --shadow-color-dark: rgba(255, 255, 255, 0.1);

  /* Transition Speed */
  --transition-speed: 0.3s;
}

/* Default Styles (Light Mode using variables) */
body {
  background-color: var(--bs-body-bg);
  color: var(--text-color-light);
  transition:
    background-color var(--transition-speed) ease,
    color var(--transition-speed) ease;
  min-height: 100vh;
  /* Ensure body covers viewport height */
  font-family: sans-serif;
  /* Add a default font */
}

h1,
h2,
p,
label

/* Add other text elements as needed */
  {
  color: inherit;
  /* Inherit color from body by default */
}

a {
  color: var(--link-color-light);
  transition: color var(--transition-speed) ease;
}

a:hover {
  color: darken(var(--link-color-light), 10%);
  /* Slightly darken on hover */
}

#hourly-section,
#current-section,
#daily-section,
#chart-section {
  background-color: rgba(255, 255, 255, 0.6);
  /* Semi-transparent white */
  backdrop-filter: blur(10px);
  /* Blur effect */
  -webkit-backdrop-filter: blur(10px);
  /* Safari support */
  border: 1px solid rgba(255, 255, 255, 0.3);
  /* Subtle border */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border-radius: 15px;
  /* More rounded corners */
  padding: 1rem;
  margin-bottom: 0;
  /* Margin handled by parent containers now */
  transition:
    background-color var(--transition-speed) ease,
    border-color var(--transition-speed) ease,
    box-shadow var(--transition-speed) ease;
  animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* --- Dark Mode Overrides --- */
body.body-dark-mode {
  background-color: var(--bg-color-dark);
  color: var(--text-color-dark);
}

body.body-dark-mode a {
  color: var(--link-color-dark);
}

body.body-dark-mode a:hover {
  color: lighten(var(--link-color-dark), 10%);
  /* Slightly lighten on hover */
}

body.body-dark-mode #hourly-section,
body.body-dark-mode #current-section,
body.body-dark-mode #daily-section,
body.body-dark-mode #chart-section {
  background-color: rgba(33, 37, 41, 0.6);
  /* Semi-transparent dark */
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

/* --- Component Specific Overrides (Examples) --- */

/* Example: Adjust Bootstrap card colors */
body.body-dark-mode .card {
  background-color: var(--section-bg-dark);
  /* Use section background */
  border-color: var(--section-border-dark);
  color: var(--text-color-dark);
  /* Ensure text inside is light */
}

/* Example: Adjust Navbar (if using react-bootstrap Navbar) */
body.body-dark-mode .navbar {
  /* You might need more specific selectors depending on navbar variant (light/dark) */
  color: var(--text-dark) !important;
  /* Override Bootstrap */
}

body.body-dark-mode .navbar .navbar-brand,
body.body-dark-mode .navbar .nav-link {
  color: var(--text-color-dark) !important;
  /* Override Bootstrap link colors */
}

body.body-dark-mode .btn-outline-success {
  color: #198754;
  /* Keep green text */
  border-color: #198754;
}

body.body-dark-mode .btn-outline-success:hover {
  color: #fff;
  /* White text on hover */
  background-color: #198754;
  border-color: #198754;
}

/* Example: Adjust Form Inputs */
body.body-dark-mode .form-control {
  background-color: #495057;
  /* Darker input background */
  color: var(--text-color-dark);
  border-color: var(--section-border-dark);
}

body.body-dark-mode .form-control::placeholder {
  color: #adb5bd;
  /* Lighter placeholder text */
}

body.body-dark-mode .form-control:focus {
  background-color: #495057;
  color: var(--text-color-dark);
  border-color: var(--link-color-dark);
  /* Use link color for focus border */
  box-shadow: 0 0 0 0.25rem rgba(var(--link-color-dark), 0.25);
  /* Adjust focus shadow */
}

/* Search Bar styles moved to SearchBar.css */

/* Dark Mode for Suggestions */
body.body-dark-mode .suggestions-dropdown {
  background-color: rgba(33, 37, 41, 0.8);
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
}

body.body-dark-mode .suggestion-item:hover,
body.body-dark-mode .suggestion-item.highlighted {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Default (Light Mode) Tooltips */
.tooltip-inner {
  background-color: #fff;
  /* Solid white for readability */
  color: var(--text-color-light);
  border: 1px solid var(--section-border-light);
  box-shadow: 0 2px 4px var(--shadow-color-light);
}

.tooltip-arrow::before {
  border-top-color: var(--section-border-light);
  border-bottom-color: var(--section-border-light);
}

/* Dark Mode for Tooltips */
body.body-dark-mode .tooltip-inner {
  background-color: var(--section-bg-dark);
  color: var(--text-color-dark);
  border: 1px solid var(--section-border-dark);
  box-shadow: 0 2px 4px var(--shadow-color-dark);
}

body.body-dark-mode .tooltip-arrow::before {
  border-top-color: var(--section-border-dark);
  /* For top placement */
  border-bottom-color: var(--section-border-dark);
  /* For bottom placement */
}

/* Dynamic Backgrounds */
body {
  background-attachment: fixed;
  background-size: cover;
  background-repeat: no-repeat;
}

.bg-clear-day {
  background: linear-gradient(to bottom, #56CCF2, #2F80ED);
}

.bg-clear-night {
  background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
}

.bg-cloudy-day {
  background: linear-gradient(to bottom, #bdc3c7, #2c3e50);
}

.bg-cloudy-night {
  background: linear-gradient(to bottom, #232526, #414345);
}

.bg-rain-day {
  background: linear-gradient(to bottom, #4b6cb7, #182848);
}

.bg-rain-night {
  background: linear-gradient(to bottom, #000428, #004e92);
}

.bg-snow-day {
  background: linear-gradient(to bottom, #E6DADA, #274046);
}

.bg-snow-night {
  background: linear-gradient(to bottom, #1c1c1c, #3a3a3a);
  /* Darker grey */
}

.bg-fog-day {
  background: linear-gradient(to bottom, #3E5151, #DECBA4);
}

.bg-fog-night {
  background: linear-gradient(to bottom, #1f4037, #99f2c8);
  /* Dark green/teal fog */
}

.bg-thunder-day {
  background: linear-gradient(to bottom, #141E30, #243B55);
}

.bg-thunder-night {
  background: linear-gradient(to bottom, #000000, #434343);
}

/* Dark Mode for Placeholders */
body.body-dark-mode .placeholder {
  background-color: rgba(255, 255, 255, 0.2);
  /* Semi-transparent white for dark mode */
}

/* Weather Details Grid */
.weather-details-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  text-align: left;
  background: rgba(255, 255, 255, 0.2);
  padding: 1rem;
  border-radius: 15px;
}

.detail-item {
  display: flex;
  flex-direction: column;
}

.detail-label {
  font-size: 0.8rem;
  opacity: 0.8;
}

.detail-value {
  font-size: 1.1rem;
  font-weight: bold;
}

/* Dark Mode for Details */
body.body-dark-mode .weather-details-grid {
  background: rgba(0, 0, 0, 0.2);
}

/* Daily Forecast Precipitation */
.daily-icon-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.daily-precip-prob,
.precip-prob {
  font-size: 0.85rem;
  color: #004085;
  /* Dark blue for better contrast on light/grey bg */
  font-weight: 800;
  /* Extra bold */
  text-shadow: 1px 1px 0px rgba(255, 255, 255, 0.7);
  /* White outline */
  margin-top: -5px;
}

/* Dark mode adjustment */
body.body-dark-mode .daily-precip-prob,
body.body-dark-mode .precip-prob {
  color: #0dcaf0;
  /* Cyan pops well on dark bg */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
}

/* Pulse Animation for Live Badge */
@keyframes pulse {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }

  100% {
    opacity: 1;
  }
}

/* Webcam Navigation Buttons */
.webcam-nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  border-radius: 50%;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s ease;
  z-index: 10;
  /* Ensure it's above everything */
  font-size: 1.2rem;
  padding-bottom: 3px;
}

.webcam-nav-btn:hover {
  background: rgba(0, 0, 0, 0.8);
}

/* Mobile Layout Reordering */
@media (max-width: 767px) {
  .main-layout-row {
    display: flex;
    flex-direction: column;
  }

  /* Unwrap the columns so their children become flex items of the row */
  .main-layout-row>.col-md-4,
  .main-layout-row>.col-md-8 {
    display: contents;
  }

  #current-section,
  #hourly-section,
  #daily-section,
  #chart-section,
  #webcam-section {
    width: 100%;
    padding-left: 12px;
    padding-right: 12px;
    box-sizing: border-box;
    margin-bottom: 1.5rem;
    /* Ensure spacing between reordered modules */
  }

  /* Define order */
  #current-section {
    order: 1;
  }

  #hourly-section {
    order: 2;
  }

  #daily-section {
    order: 3;
  }

  #chart-section {
    order: 4;
  }

  #webcam-section {
    order: 5;
  }
}