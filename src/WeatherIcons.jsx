import clearIconDay from "./assets/icons/large/10000_clear_large@2x.png";
import clearIconNight from "./assets/icons/large/10001_clear_large@2x.png";
import cloudyIcon from "./assets/icons/large/10010_cloudy_large@2x.png";
import MostlyClearIconDay from "./assets/icons/large/11000_mostly_clear_large@2x.png";
import MostlyClearIconNight from "./assets/icons/large/11001_mostly_clear_large@2x.png";
import PartlyCloudyIconDay from "./assets/icons/large/11010_partly_cloudy_large@2x.png";
import PartlyCloudyIconNight from "./assets/icons/large/11011_partly_cloudy_large@2x.png";
import MostlyCloudyIconDay from "./assets/icons/large/11020_mostly_cloudy_large@2x.png";
import MostlyCloudyIconNight from "./assets/icons/large/11021_mostly_cloudy_large@2x.png";

// Fog
import FogIcon from "./assets/icons/large/20000_fog_large@2x.png";
import LightFogIcon from "./assets/icons/large/20000_fog_large@2x.png";
import LightFogMostlyClearDay from "./assets/icons/large/21010_fog_light_mostly_clear_large@2x.png";
import LightFogMostlyClearNight from "./assets/icons/large/21011_fog_light_mostly_clear_large@2x.png";
import LightFogPartlyCloudyDay from "./assets/icons/large/21020_fog_light_partly_cloudy_large@2x.png";
import LightFogPartlyCloudyNight from "./assets/icons/large/21021_fog_light_partly_cloudy_large@2x.png";
import LightFogMostlyCloudyDay from "./assets/icons/large/21030_fog_light_mostly_cloudy_large@2x.png";
import LightFogMostlyCloudyNight from "./assets/icons/large/21031_fog_light_mostly_cloudy_large@2x.png";

// Drizzle
import DrizzleIcon from "./assets/icons/large/40000_drizzle_large@2x.png";
import DrizzleMostlyClearDay from "./assets/icons/large/42030_drizzle_mostly_clear_large@2x.png";
import DrizzleMostlyClearNight from "./assets/icons/large/42031_drizzle_mostly_clear_large@2x.png";
import DrizzlePartlyCloudyDay from "./assets/icons/large/42040_drizzle_partly_cloudy_large@2x.png";
import DrizzlePartlyCloudyNight from "./assets/icons/large/42041_drizzle_partly_cloudy_large@2x.png";
import DrizzleMostlyCloudyDay from "./assets/icons/large/42050_drizzle_mostly_cloudy_large@2x.png";
import DrizzleMostlyCloudyNight from "./assets/icons/large/42051_drizzle_mostly_cloudy_large@2x.png";

// Rain
import RainIcon from "./assets/icons/large/40010_rain_large@2x.png";
import LightRainIcon from "./assets/icons/large/42000_rain_light_large@2x.png";
import LightRainMostlyClearDay from "./assets/icons/large/42130_rain_light_mostly_clear_large@2x.png";
import LightRainMostlyClearNight from "./assets/icons/large/42131_rain_light_mostly_clear_large@2x.png";
import LightRainPartlyCloudyDay from "./assets/icons/large/42140_rain_light_partly_cloudy_large@2x.png";
import LightRainPartlyCloudyNight from "./assets/icons/large/42141_rain_light_partly_cloudy_large@2x.png";
import LightRainMostlyCloudyDay from "./assets/icons/large/42150_rain_light_mostly_cloudy_large@2x.png";
import LightRainMostlyCloudyNight from "./assets/icons/large/42151_rain_light_mostly_cloudy_large@2x.png";

import HeavyRainIcon from "./assets/icons/large/42010_rain_heavy_large@2x.png";
import HeavyRainMostlyClearDay from "./assets/icons/large/42110_rain_heavy_mostly_clear_large@2x.png";
import HeavyRainMostlyClearNight from "./assets/icons/large/42111_rain_heavy_mostly_clear_large@2x.png";
import HeavyRainPartlyCloudyDay from "./assets/icons/large/42020_rain_heavy_partly_cloudy_large@2x.png";
import HeavyRainPartlyCloudyNight from "./assets/icons/large/42021_rain_heavy_partly_cloudy_large@2x.png";
import HeavyRainMostlyCloudyDay from "./assets/icons/large/42120_rain_heavy_mostly_cloudy_large@2x.png";
import HeavyRainMostlyCloudyNight from "./assets/icons/large/42121_rain_heavy_mostly_cloudy_large@2x.png";

// Snow
import SnowIcon from "./assets/icons/large/50000_snow_large@2x.png";
import FlurriesIcon from "./assets/icons/large/50010_flurries_large@2x.png";
import LightSnowIcon from "./assets/icons/large/51000_snow_light_large@2x.png";
import LightSnowMostlyClearDay from "./assets/icons/large/51020_snow_light_mostly_clear_large@2x.png";
import LightSnowMostlyClearNight from "./assets/icons/large/51021_snow_light_mostly_clear_large@2x.png";
import LightSnowPartlyCloudyDay from "./assets/icons/large/51030_snow_light_partly_cloudy_large@2x.png";
import LightSnowPartlyCloudyNight from "./assets/icons/large/51031_snow_light_partly_cloudy_large@2x.png";
import LightSnowMostlyCloudyDay from "./assets/icons/large/51040_snow_light_mostly_cloudy_large@2x.png";
import LightSnowMostlyCloudyNight from "./assets/icons/large/51041_snow_light_mostly_cloudy_large@2x.png";

import HeavySnowIcon from "./assets/icons/large/51010_snow_heavy_large@2x.png";
import HeavySnowMostlyClearDay from "./assets/icons/large/51190_snow_heavy_mostly_clear_large@2x.png";
import HeavySnowMostlyClearNight from "./assets/icons/large/51191_snow_heavy_mostly_clear_large@2x.png";
import HeavySnowPartlyCloudyDay from "./assets/icons/large/51200_snow_heavy_partly_cloudy_large@2x.png";
import HeavySnowPartlyCloudyNight from "./assets/icons/large/51201_snow_heavy_partly_cloudy_large@2x.png";
import HeavySnowMostlyCloudyDay from "./assets/icons/large/51210_snow_heavy_mostly_cloudy_large@2x.png";
import HeavySnowMostlyCloudyNight from "./assets/icons/large/51211_snow_heavy_mostly_cloudy_large@2x.png";

import FreezingDrizzleIcon from "./assets/icons/large/60000_freezing_rain_drizzle_large@2x.png";
import FreezingRainIcon from "./assets/icons/large/60010_freezing_rain_large@2x.png";
import FreezingLightRainIcon from "./assets/icons/large/62000_freezing_rain_light_large@2x.png";
import FreezingHeavyRainIcon from "./assets/icons/large/62010_freezing_rain_heavy_large@2x.png";
import IcePelletsIcon from "./assets/icons/large/70000_ice_pellets_large@2x.png";
import HeavyIcePelletsIcon from "./assets/icons/large/71010_ice_pellets_heavy_large@2x.png";
import LightIcePelletsIcon from "./assets/icons/large/71020_ice_pellets_light_large@2x.png";
import ThunderstormIcon from "./assets/icons/large/80000_tstorm_large@2x.png";

const weatherIcons = {
  0: { day: clearIconDay, night: clearIconNight }, // Clear sky
  1: { day: clearIconDay, night: clearIconNight }, // Mainly clear
  2: { day: PartlyCloudyIconDay, night: PartlyCloudyIconNight }, // Partly cloudy
  3: { day: cloudyIcon, night: cloudyIcon }, // Overcast
  45: { day: FogIcon, night: FogIcon }, // Fog
  48: { day: FogIcon, night: FogIcon }, // Depositing rime fog
  51: { day: LightRainIcon, night: LightRainIcon }, // Light drizzle
  53: { day: RainIcon, night: RainIcon }, // Moderate drizzle
  55: { day: HeavyRainIcon, night: HeavyRainIcon }, // Dense drizzle
  56: { day: FreezingDrizzleIcon, night: FreezingDrizzleIcon }, // Light freezing drizzle
  57: { day: FreezingRainIcon, night: FreezingRainIcon }, // Dense freezing drizzle
  61: { day: LightRainIcon, night: LightRainIcon }, // Slight rain
  63: { day: RainIcon, night: RainIcon }, // Moderate rain
  65: { day: HeavyRainIcon, night: HeavyRainIcon }, // Heavy rain
  66: { day: FreezingLightRainIcon, night: FreezingLightRainIcon }, // Light freezing rain
  67: { day: FreezingHeavyRainIcon, night: FreezingHeavyRainIcon }, // Heavy freezing rain
  71: { day: LightSnowIcon, night: LightSnowIcon }, // Slight snow fall
  73: { day: SnowIcon, night: SnowIcon }, // Moderate snow fall
  75: { day: HeavySnowIcon, night: HeavySnowIcon }, // Heavy snow fall
  77: { day: FlurriesIcon, night: FlurriesIcon }, // Snow grains
  80: { day: LightRainIcon, night: LightRainIcon }, // Slight rain showers
  81: { day: RainIcon, night: RainIcon }, // Moderate rain showers
  82: { day: HeavyRainIcon, night: HeavyRainIcon }, // Violent rain showers
  85: { day: LightSnowIcon, night: LightSnowIcon }, // Slight snow showers
  86: { day: HeavySnowIcon, night: HeavySnowIcon }, // Heavy snow showers
  95: { day: ThunderstormIcon, night: ThunderstormIcon }, // Thunderstorm
  96: { day: ThunderstormIcon, night: ThunderstormIcon }, // Thunderstorm with slight hail
  99: { day: ThunderstormIcon, night: ThunderstormIcon }, // Thunderstorm with heavy hail
};

export function getIcon(weatherCode, isDay = true, cloudCover = null) {
  const iconEntry = weatherIcons[weatherCode];
  if (!iconEntry) return cloudyIcon; // Default fallback

  let selectedIcon = iconEntry;

  // Check for variants based on cloudCover
  if (iconEntry.variants && cloudCover !== null) {
    if (cloudCover < 25) {
      selectedIcon = iconEntry.variants.mostlyClear;
    } else if (cloudCover < 75) {
      selectedIcon = iconEntry.variants.partlyCloudy;
    } else {
      selectedIcon = iconEntry.variants.mostlyCloudy;
    }
  } else if (iconEntry.default) {
    // Fallback to default if no cloudCover or no variants
    selectedIcon = iconEntry.default;
  }

  // If selectedIcon is still an object with day/night, resolve it
  if (selectedIcon && typeof selectedIcon === 'object' && selectedIcon.day && selectedIcon.night) {
    return isDay ? selectedIcon.day : selectedIcon.night;
  }

  // If it was a simple import (string), return it
  return selectedIcon;
}
